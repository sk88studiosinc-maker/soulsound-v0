<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SoulSound Expression Tool</title>
  <meta name="description" content="Generate captions, CTAs, and hashtags from any music link." />

  <style>
    :root{
      --bg:#07060b;
      --panel:rgba(255,255,255,0.05);
      --panel2:rgba(255,255,255,0.07);
      --border:rgba(255,255,255,0.12);
      --text:rgba(255,255,255,0.92);
      --muted:rgba(255,255,255,0.72);
      --muted2:rgba(255,255,255,0.58);
      --a1:#8b5cf6; /* purple */
      --a2:#ec4899; /* pink */
      --radius:18px;
      --shadow:0 18px 60px rgba(0,0,0,0.55);
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      background:
        radial-gradient(1100px 700px at 50% -120px, rgba(139,92,246,0.22), transparent 65%),
        radial-gradient(900px 600px at 20% 0, rgba(236,72,153,0.18), transparent 60%),
        var(--bg);
      color:var(--text);
      line-height:1.55;
    }
    .wrap{
      max-width: 980px;
      margin: 0 auto;
      padding: 26px 16px 70px;
    }
    .hero{
      border:1px solid var(--border);
      background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.03));
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 18px 18px 16px;
    }
    h1{
      margin:0;
      font-size: clamp(24px, 4vw, 38px);
      letter-spacing: 0.02em;
    }
    .sub{
      margin:8px 0 0;
      color: var(--muted);
      max-width: 75ch;
    }
    .grid{
      display:grid;
      grid-template-columns: 1.1fr 0.9fr;
      gap: 14px;
      margin-top: 14px;
    }
    @media (max-width: 860px){
      .grid{ grid-template-columns: 1fr; }
    }

    .card{
      border:1px solid var(--border);
      background: var(--panel);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 14px;
    }
    label{
      display:block;
      color: var(--muted2);
      font-size: 0.92rem;
      margin: 10px 0 6px;
    }
    input, textarea, select{
      width:100%;
      padding: 11px 12px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(0,0,0,0.28);
      color: var(--text);
      outline: none;
      font-size: 1rem;
    }
    textarea{ min-height: 92px; resize: vertical; }

    .row{
      display:flex;
      gap:10px;
      flex-wrap: wrap;
      align-items:center;
      margin-top: 12px;
    }
    .btn{
      appearance:none;
      border:none;
      cursor:pointer;
      user-select:none;
      padding: 11px 14px;
      border-radius: 999px;
      font-weight: 800;
      color:white;
      background: linear-gradient(135deg, rgba(139,92,246,0.95), rgba(236,72,153,0.88));
      box-shadow: 0 10px 25px rgba(0,0,0,0.35);
    }
    .btn.secondary{
      background: rgba(255,255,255,0.06);
      color: var(--text);
      font-weight: 700;
      border: 1px solid rgba(255,255,255,0.12);
      box-shadow:none;
    }
    .pill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 8px 12px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(255,255,255,0.04);
      color: var(--muted);
      font-size: 0.92rem;
    }

    .out{
      white-space: pre-wrap;
      border: 1px solid rgba(255,255,255,0.12);
      border-radius: 16px;
      background: rgba(0,0,0,0.30);
      padding: 14px;
      min-height: 260px;
    }
    .hint{ color: var(--muted2); font-size: 0.92rem; margin-top: 10px; }
    .tiny{ color: var(--muted2); font-size: 0.86rem; }

    .loading{
      display:none;
      margin-top: 10px;
      color: var(--muted);
      font-weight: 650;
    }
    .loading.show{ display:block; }

    a.link{
      color: #d7c8ff;
      text-decoration: none;
      border-bottom: 1px dashed rgba(215,200,255,0.45);
    }
    a.link:hover{ border-bottom-color: rgba(215,200,255,0.85); }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="hero">
      <h1>SoulSound Expression Tool</h1>
      <p class="sub">
        Paste <strong>any</strong> music link. Get platform-aware captions, CTAs, and hashtags — ready to post.
      </p>

      <div class="grid">
        <div class="card">
          <label for="musicLink">Music link (any platform)</label>
          <input id="musicLink" placeholder="Paste a link (YouTube, Spotify, Apple Music, SoundCloud, Suno, etc.)" />

          <div class="row">
            <span class="pill" id="platformPill">Detected platform: <strong style="color:#fff" id="platformText">—</strong></span>
            <span class="pill">Mode: <strong style="color:#fff" id="modeText">Captions + Hashtags</strong></span>
          </div>

          <label for="vibe">Vibe / mood (optional)</label>
          <select id="vibe">
            <option value="mystic">Mystic / Ethereal</option>
            <option value="dark">Dark / Intense</option>
            <option value="romantic">Romantic / Steamy</option>
            <option value="uplifting">Uplifting / Hope</option>
            <option value="hype">Hype / High energy</option>
            <option value="sad">Sad / Vulnerable</option>
            <option value="cinematic">Cinematic / Epic</option>
            <option value="chill">Chill / Late night</option>
          </select>

          <label for="notes">Extra context (optional)</label>
          <textarea id="notes" placeholder="Example: ‘This is from the Tomorrow’s Yesterday universe’ or ‘Techno / trans / disco arc’ or ‘New chapter artifact’"></textarea>

          <div class="row">
            <button class="btn" onclick="generate()">Generate</button>
            <button class="btn secondary" onclick="clearAll()">Clear</button>
            <button class="btn secondary" onclick="openLink()">Open Link</button>
          </div>

          <div class="loading" id="loading">Listening to the vibe… generating output…</div>

          <div class="hint">
            Tip: If you want the captions to include a song title, just add it in “Extra context.”
          </div>
        </div>

        <div class="card">
          <h2 style="margin:0 0 10px; font-size:1.2rem;">Output</h2>
          <div class="out" id="output">Paste a link, choose a vibe, and hit Generate.</div>

          <div class="row" style="margin-top:12px;">
            <button class="btn secondary" onclick="copyOutput()">Copy Output</button>
            <button class="btn secondary" onclick="copyHashtagsOnly()">Copy Hashtags Only</button>
          </div>

          <p class="tiny" style="margin-top:10px;">
            Built for SoulSound open build. Distribution-friendly language included.
          </p>
        </div>
      </div>

      <footer style="text-align:center; margin-top:14px; color:rgba(255,255,255,0.55); font-size:0.9rem;">
        SoulSound • by Samzin Kreave • <span style="opacity:0.85;">Keep it human.</span>
      </footer>
    </div>
  </div>

  <script>
    // ---------- Platform Detection ----------
    function detectPlatform(link) {
      const u = (link || "").toLowerCase().trim();

      if (!u) return "—";

      // SoundCloud
      if (u.includes("soundcloud.com") || u.includes("on.soundcloud.com")) return "SoundCloud";

      // Suno
      if (u.includes("suno.com")) return "Suno";

      // YouTube Music must be checked before YouTube sometimes
      if (u.includes("music.youtube.com")) return "YouTube Music";
      if (u.includes("youtube.com") || u.includes("youtu.be")) return "YouTube";

      // Spotify
      if (u.includes("spotify.com") || u.includes("open.spotify.com")) return "Spotify";

      // Apple Music
      if (u.includes("music.apple.com")) return "Apple Music";

      // Amazon Music
      if (u.includes("music.amazon.") || u.includes("amazon.com/music")) return "Amazon Music";

      // Deezer
      if (u.includes("deezer.com")) return "Deezer";

      // Tidal
      if (u.includes("tidal.com")) return "TIDAL";

      // Bandcamp
      if (u.includes("bandcamp.com")) return "Bandcamp";

      // Audiomack
      if (u.includes("audiomack.com")) return "Audiomack";

      // Mixcloud
      if (u.includes("mixcloud.com")) return "Mixcloud";

      // Vimeo (music vids sometimes)
      if (u.includes("vimeo.com")) return "Vimeo";

      // Generic / other
      return "Other";
    }

    function platformVerb(platform) {
      // what do people do there?
      const map = {
        "YouTube": "Watch",
        "YouTube Music": "Listen",
        "Spotify": "Stream",
        "Apple Music": "Listen",
        "Amazon Music": "Listen",
        "SoundCloud": "Listen",
        "Suno": "Listen",
        "Bandcamp": "Support",
        "Deezer": "Listen",
        "TIDAL": "Listen",
        "Audiomack": "Listen",
        "Mixcloud": "Listen",
        "Vimeo": "Watch",
        "Other": "Listen"
      };
      return map[platform] || "Listen";
    }

    function platformCTA(platform, link) {
      const verb = platformVerb(platform);
      const name = (platform === "Other") ? "this link" : platform;

      // softer, less spammy CTAs
      const templates = [
        `${verb} on ${name} → ${link}`,
        `Tap in here → ${link}`,
        `Headphones recommended → ${link}`
      ];

      // platform tweaks
      if (platform === "SoundCloud") {
        return [
          `Listen on SoundCloud → ${link}`,
          `Drop a timestamp comment if it hits → ${link}`,
          `Repost if you support indie sound → ${link}`
        ];
      }
      if (platform === "YouTube" || platform === "Vimeo") {
        return [
          `Watch the full video → ${link}`,
          `Run it in HD → ${link}`,
          `If it hits, share it → ${link}`
        ];
      }
      if (platform === "Spotify") {
        return [
          `Stream on Spotify → ${link}`,
          `Add it to a playlist if it hits → ${link}`,
          `Save it + run it back → ${link}`
        ];
      }
      if (platform === "Apple Music") {
        return [
          `Listen on Apple Music → ${link}`,
          `Save it if you feel it → ${link}`,
          `Late-night rotation → ${link}`
        ];
      }
      if (platform === "Bandcamp") {
        return [
          `Support on Bandcamp → ${link}`,
          `Own it / download it here → ${link}`,
          `Direct support keeps this alive → ${link}`
        ];
      }
      if (platform === "Suno") {
        return [
          `Built with Suno — listen here → ${link}`,
          `AI-assisted, human-driven → ${link}`,
          `Artifact audio: tap in → ${link}`
        ];
      }

      return templates;
    }

    // ---------- Caption Engine ----------
    function vibeWords(vibe){
      const map = {
        mystic: ["mystic", "ethereal", "resonant", "luminous", "signal"],
        dark: ["dark", "intense", "raw", "shadow", "pressure"],
        romantic: ["romantic", "electric", "heat", "close", "pulse"],
        uplifting: ["uplifting", "hope", "light", "rise", "breath"],
        hype: ["hype", "fast", "energy", "stack", "rush"],
        sad: ["vulnerable", "sad", "honest", "soft", "ache"],
        cinematic: ["cinematic", "epic", "wide", "gravity", "storm"],
        chill: ["chill", "late-night", "float", "calm", "drift"]
      };
      return map[vibe] || map.mystic;
    }

    function makeHashtags(platform, vibe) {
      const v = vibeWords(vibe);
      const base = [
        "#SoulSound",
        "#SamzinKreave",
        "#OriginalMusic",
        "#IndieArtist",
        "#NewMusic",
        "#Music"
      ];

      const plat = {
        "YouTube": ["#YouTube", "#MusicVideo"],
        "YouTube Music": ["#YouTubeMusic"],
        "Spotify": ["#Spotify", "#NowPlaying"],
        "Apple Music": ["#AppleMusic"],
        "Amazon Music": ["#AmazonMusic"],
        "SoundCloud": ["#SoundCloud"],
        "Suno": ["#Suno", "#AIMusic"],
        "Bandcamp": ["#Bandcamp"],
        "Deezer": ["#Deezer"],
        "TIDAL": ["#TIDAL"],
        "Audiomack": ["#Audiomack"],
        "Mixcloud": ["#Mixcloud"],
        "Vimeo": ["#Vimeo"],
        "Other": ["#MusicLink"]
      };

      const vibeTags = [
        `#${capNoSpace(v[0])}`,
        `#${capNoSpace(v[1])}`,
        `#${capNoSpace(v[2])}`
      ];

      const storyTags = ["#TomorrowsYesterday", "#Worldbuilding", "#AudioStory"];

      return [...base, ...(plat[platform] || plat.Other), ...vibeTags, ...storyTags]
        .slice(0, 18)
        .join(" ");
    }

    function capNoSpace(s){
      return String(s || "")
        .replace(/[^a-zA-Z0-9]+/g, " ")
        .trim()
        .split(" ")
        .map(w => w ? (w[0].toUpperCase() + w.slice(1)) : "")
        .join("");
    }

    function buildCaptions(platform, vibe, notes, link){
      const v = vibeWords(vibe);
      const distributionLine = "Available on Pocket FM (story) • Signal Archive on SoundCloud";
      const storyHint = "Tomorrow’s Yesterday — inside the SoulSound world";

      const seed = (notes || "").trim();
      const seedLine = seed ? `\n\nContext: ${seed}` : "";

      // 5 captions, varied, not spammy
      const caps = [
        `1) Not made for the algorithm — made for the soul.\n${v[0]} / ${v[1]} / ${v[2]}.\n${seed ? storyHint : ""}`.trim(),
        `2) If you feel this one, don’t scroll past it.\nLet it sit for a second.\n${seed ? storyHint : ""}`.trim(),
        `3) This is a signal, not a song.\nA fragment from inside the world.\n${seed ? storyHint : ""}`.trim(),
        `4) The city keeps getting faster.\nSo I made something that slows time down.\n${seed ? storyHint : ""}`.trim(),
        `5) For late nights, long drives, and the parts of you that still feel.\n${seed ? storyHint : ""}`.trim(),
      ];

      // 3 CTAs
      const ctas = platformCTA(platform, link);

      // output format
      return [
        `Detected platform: ${platform}`,
        ``,
        `CAPTIONS`,
        `${caps.join("\n\n")}${seedLine}`,
        ``,
        `CTA OPTIONS`,
        `${ctas.map((c,i)=>`${i+1}) ${c}`).join("\n")}`,
        ``,
        `HASHTAGS`,
        `${makeHashtags(platform, vibe)}`,
        ``,
        `DISTRIBUTION NOTE (optional)`,
        distributionLine
      ].join("\n");
    }

    // ---------- UI ----------
    const musicLinkEl = document.getElementById("musicLink");
    const platformTextEl = document.getElementById("platformText");
    const vibeEl = document.getElementById("vibe");
    const notesEl = document.getElementById("notes");
    const outputEl = document.getElementById("output");
    const loadingEl = document.getElementById("loading");

    function updatePlatform(){
      const p = detectPlatform(musicLinkEl.value);
      platformTextEl.textContent = p;
    }
    musicLinkEl.addEventListener("input", updatePlatform);

    function generate(){
      const link = (musicLinkEl.value || "").trim();
      if (!link) {
        alert("Paste a music link first.");
        return;
      }

      const platform = detectPlatform(link);
      const vibe = vibeEl.value;
      const notes = notesEl.value;

      updatePlatform();
      loadingEl.classList.add("show");
      outputEl.textContent = "Generating…";

      // simulate a tiny processing delay for UX
      setTimeout(() => {
        const text = buildCaptions(platform, vibe, notes, link);
        outputEl.textContent = text;
        loadingEl.classList.remove("show");
      }, 500);
    }

    function clearAll(){
      musicLinkEl.value = "";
      notesEl.value = "";
      vibeEl.value = "mystic";
      platformTextEl.textContent = "—";
      outputEl.textContent = "Paste a link, choose a vibe, and hit Generate.";
      loadingEl.classList.remove("show");
    }

    function copyOutput(){
      const text = outputEl.textContent || "";
      if (!text.trim()) return;
      navigator.clipboard.writeText(text).then(
        () => alert("Copied full output!"),
        () => alert("Copy failed. (Some browsers block clipboard on non-HTTPS pages.)")
      );
    }

    function copyHashtagsOnly(){
      const text = outputEl.textContent || "";
      const idx = text.indexOf("HASHTAGS");
      if (idx === -1) { alert("Generate output first."); return; }
      const part = text.slice(idx);
      const lines = part.split("\n");
      // next line after "HASHTAGS" is hashtags
      const tagLine = (lines[1] || "").trim();
      if (!tagLine) { alert("No hashtags found yet."); return; }

      navigator.clipboard.writeText(tagLine).then(
        () => alert("Copied hashtags!"),
        () => alert("Copy failed.")
      );
    }

    function openLink(){
      const link = (musicLinkEl.value || "").trim();
      if (!link) { alert("Paste a link first."); return; }
      window.open(link, "_blank", "noopener,noreferrer");
    }

    // init
    updatePlatform();
  </script>
</body>
</html>
